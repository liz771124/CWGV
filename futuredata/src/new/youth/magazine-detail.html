<!doctype html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>未來親子知識庫</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/css/youth-main.css" />
    <!-- 新加的 style -->
    <link rel="stylesheet" href="../assets/css/audio-player.css" />
  </head>
  <body class="bg-gray2-50 relative">
    <nav class="bg-primary-500 sticky top-0 z-20 py-2 text-white">
      <div class="container flex justify-between">
        <div
          role="button"
          data-twe-offcanvas-toggle
          data-twe-target="#offcanvasMenu"
          aria-controls="offcanvasMenu"
          class="flex items-center gap-3 p-3 text-lg leading-7 text-white"
        >
          <svg width="20" height="20" viewBox="0 0 1024 1024">
            <path
              fill="currentColor"
              d="M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"
            />
          </svg>
          <span class="hidden md:block">
            2024年07月號 | <span class="font-bold">奧運，不只是運動！</span>
          </span>
        </div>
        <ul
          class="flex items-center gap-5 rounded-full bg-white py-1 pe-5 ps-3"
        >
          <li class="flex items-center">
            <button
              class="text-primary-600 flex items-center gap-2 rounded-full bg-gray-100 px-5 py-2 text-xs"
            >
              回上頁
            </button>
          </li>
          <li class="flex items-center" data-tooltip data-title="音檔">
            <img
              width="20"
              class="object-contain"
              src="../../assets/img/icons/audio-green.svg"
              alt=""
            />
          </li>
          <li class="flex items-center" data-tooltip data-title="影片">
            <a href="#">
              <img
                width="20"
                class="object-contain"
                src="../../assets/img/icons/video-green.svg"
                alt=""
              />
            </a>
          </li>
          <li
            class="flex items-center"
            data-twe-offcanvas-toggle
            data-twe-target="#offcanvasNote"
            aria-controls="offcanvasNote"
            data-twe-ripple-init
            data-twe-ripple-color="light"
            data-tooltip
            data-title="筆記"
          >
            <a href="#" class="bolck" id="note-icon">
              <img
                width="18"
                class="object-contain"
                src="../../assets/img/icons/note-gray.svg"
                alt=""
              />
            </a>
          </li>
          <li
            class="text-primary-500 flex items-center"
            data-tooltip
            data-title="收藏"
          >
            <svg
              class="icon-favorite favorite-on mx-auto cursor-pointer"
              width="20"
              height="17"
              viewBox="0 0 35 31"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="" fill="currentColor"></path>
            </svg>
          </li>
        </ul>
      </div>
    </nav>

    <main class="py-8">
      <div>
        <div
          class="invisible fixed bottom-0 left-0 top-0 z-[1045] flex w-96 max-w-full -translate-x-full flex-col border-none bg-white bg-clip-padding text-neutral-700 shadow-sm outline-none transition duration-300 ease-in-out data-[twe-offcanvas-show]:transform-none"
          tabindex="-1"
          id="offcanvasMenu"
          aria-labelledby="offcanvasMenuLabel"
          data-twe-offcanvas-init
        >
          <div class="flex items-center justify-between bg-gray-100 p-4">
            <h5
              class="mb-0 font-semibold leading-normal"
              id="offcanvasMenuLabel"
            >
              2024年07月號 | 奧運，不只是運動
            </h5>
            <button
              type="button"
              class="box-content rounded-none border-none text-neutral-500 hover:text-neutral-800 hover:no-underline focus:text-neutral-800 focus:opacity-100 focus:shadow-none focus:outline-none"
              data-twe-offcanvas-dismiss
              aria-label="Close"
            >
              <span class="[&>svg]:h-6 [&>svg]:w-6">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              </span>
            </button>
          </div>
          <div class="flex-grow overflow-y-auto px-4">
            <ul class="flex flex-col">
              <li class="border-b py-3"><a href="#">雜誌選單一</a></li>
              <li class="border-b py-3"><a href="#">雜誌選單二</a></li>
              <li class="border-b py-3"><a href="#">雜誌選單三</a></li>
              <li class="border-b py-3"><a href="#">雜誌選單四</a></li>
              <li class="border-b py-3"><a href="#">雜誌選單五</a></li>
            </ul>
          </div>
        </div>

        <div
          class="invisible fixed bottom-0 right-0 top-0 z-[1045] flex w-96 max-w-full translate-x-full flex-col border-none bg-white bg-clip-padding text-neutral-700 shadow-md outline-none transition duration-300 ease-in-out data-[twe-offcanvas-show]:transform-none"
          tabindex="-1"
          id="offcanvasNote"
          data-twe-scroll="true"
          data-twe-offcanvas-init
        >
          <div class="flex items-center justify-between bg-gray-100 p-4">
            <h5
              class="mb-0 font-semibold leading-normal"
              id="offcanvasNoteLabel"
            >
              我的筆記
            </h5>
            <!-- <button
              type="button"
              class="box-content rounded-none border-none text-neutral-500 hover:text-neutral-800 hover:no-underline focus:text-neutral-800 focus:opacity-100 focus:shadow-none focus:outline-none"
              data-twe-offcanvas-dismiss
              aria-label="Close"
            >
              <span class="[&>svg]:h-6 [&>svg]:w-6">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
              </span>
            </button> -->
          </div>
          <div class="offcanvas-body flex-grow overflow-y-auto p-4">
            <div class="relative h-full" data-twe-input-wrapper-init>
              <textarea
                class="peer-focus:text-primary peer block h-full min-h-[auto] w-full rounded border-0 bg-slate-50 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[twe-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none [&:not([data-twe-input-placeholder-active])]:placeholder:opacity-0"
                placeholder="請輸入筆記"
              ></textarea>
            </div>
          </div>
          <div
            class="flex flex-shrink-0 flex-wrap items-center justify-stretch gap-3 rounded-b-md border-t-2 border-neutral-100 p-4"
          >
            <button
              type="button"
              class="hover:bg-gary-600 focus:bg-primary-600 active:bg-primary-800 inline-block rounded bg-gray-400 px-6 pb-2 pt-2.5 font-medium leading-normal text-white transition duration-150 ease-in-out focus:outline-none focus:ring-0"
              data-twe-offcanvas-dismiss
              data-twe-ripple-init
              data-twe-ripple-color="light"
              id="unsaveNote"
            >
              取消編輯
            </button>
            <button
              type="button"
              class="bg-primary-500 hover:bg-primary-600 focus:bg-primary-600 active:bg-primary-700 grow rounded px-6 pb-2 pt-2.5 font-medium leading-normal text-white transition duration-150 ease-in-out focus:outline-none focus:ring-0"
              data-twe-offcanvas-dismiss
            >
              儲存筆記
            </button>
          </div>
        </div>

        <div class="md:px-auto container mx-auto px-8 md:min-h-[80svh] md:py-5">
          <iframe
            id="magIframe"
            class="relative h-[500px] shadow-md md:h-[800px]"
            src="https://efuturedata.cwgv.com.tw/MY11307/index.html"
            width="100%"
            height="auto"
            frameborder="0"
            scrolling="no"
            style="margin: 0"
            allowfullscreen="allowfullscreen"
          ></iframe>
        </div>

        <div
          class="absolute z-50 hidden h-screen w-screen"
          id="note-backdrop"
        ></div>
      </div>
    </main>

    <!-- 共用版尾 -->
    <footer class="mt-auto bg-white py-5 tracking-wide">
      <div
        class="container mx-auto flex flex-col flex-wrap items-center justify-between gap-3 px-3 py-5 text-sm md:flex-row lg:gap-5"
      >
        <div
          class="flex grow flex-col flex-wrap items-center gap-2 md:flex-row"
        >
          <a class="mx-auto md:mx-0" href="#" target="_blank">
            <img
              class="max-f-full -mt-[1px]"
              width="120"
              src="../assets/img/footer-logo.svg"
              alt="logo"
            />
          </a>
          <div class="flex grow flex-col items-center sm:items-start">
            <ul
              class="text-gray2-500 flex flex-wrap justify-center gap-y-1 text-center md:mx-0 md:mb-3 md:flex-nowrap md:divide-x md:text-start"
            >
              <li class="border-e px-2 sm:border-0">
                <a
                  href="https://futureparenting.cwgv.com.tw/"
                  title="未來親子學習平台"
                  target="_blank"
                  >未來親子</a
                >
              </li>
              <li class="px-2">
                <a
                  href="https://futureparenting.cwgv.com.tw/kids"
                  title="小天下．未來出版"
                  target="_blank"
                  >小天下．未來出版</a
                >
              </li>
              <li class="w-full sm:hidden"></li>
              <li class="border-e px-2 sm:border-0">
                <a
                  href="https://futureparenting.cwgv.com.tw/junior"
                  title="未來兒童"
                  target="_blank"
                  >未來兒童
                </a>
              </li>
              <li class="border-e px-2 sm:border-0">
                <a
                  href="https://futureparenting.cwgv.com.tw/youth"
                  title="未來少年"
                  target="_blank"
                  >未來少年</a
                >
              </li>
              <li class="px-2">
                <a
                  href="https://futureacademy.cwgv.com.tw/"
                  title="線上學院"
                  target="_blank"
                  >線上學院</a
                >
              </li>
            </ul>
            <div class="hidden px-2 text-center text-xs md:flex">
              Copyright © 未來親子學習平台﹒All rights reserved.
            </div>
          </div>
        </div>

        <div
          class="mx-auto mt-5 flex flex-col items-center gap-y-1 sm:mx-0 md:mt-0"
        >
          <ul
            class="flex flex-wrap justify-center gap-y-2 divide-x text-center md:text-end"
          >
            <li class="px-2">
              <a
                href="https://futuredata.cwgv.com.tw/copyright/index/A"
                title="著作權聲明"
                target="_blank"
                >著作權聲明</a
              >
            </li>
            <li class="px-2">
              <a
                href="https://futuredata.cwgv.com.tw/copyright/index/B"
                title="隱私權政策"
                target="_blank"
                >隱私權政策</a
              >
            </li>
          </ul>
          <ul
            class="flex flex-wrap justify-center gap-y-2 divide-x text-center md:text-end"
          >
            <li class="px-2">
              <a
                href="https://futuredata.cwgv.com.tw/copyright/index/C"
                title="個資保護聲明"
                target="_blank"
                >個資保護聲明</a
              >
            </li>
            <li class="px-2">
              <a
                href="https://futuredata.cwgv.com.tw/qa"
                title="QA"
                target="_blank"
                >常見問題</a
              >
            </li>
          </ul>
        </div>

        <div class="mx-auto block text-center text-xs sm:mx-0 md:hidden">
          Copyright © 未來親子學習平台﹒All rights reserved.
        </div>
      </div>
      <div class="fixed bottom-5 end-3" id="goTop">
        <img width="40" height="40" src="../assets/img/go-top.svg" alt="" />
      </div>
    </footer>

    <div class="sticky bottom-0" id="PodcastPlayerApp">
      <audio ref="audio" controls="controls">
        <source type="audio/mpeg" />
      </audio>
      <div class="player--drawer" v-if="audio">
        <div class="container relative">
          <div class="player--controller">
            <ul>
              <li class="hidden md:block">
                <a
                  class="item--control"
                  alt="跳前10秒"
                  @click="playlistPrevTenSec()"
                >
                  <div class="icon">
                    <div class="icon__prev__10sec"></div>
                  </div>
                </a>
              </li>
              <li>
                <a
                  class="item--control"
                  alt="跳上一章節"
                  @click="playlistPrev()"
                >
                  <div class="icon">
                    <div class="icon__prev"></div>
                  </div>
                </a>
              </li>
              <li>
                <a class="item--control" alt="播放/暫停" @click="togglePlay()">
                  <div class="icon">
                    <div class="icon__play" v-if="!CONTROL_PLAYING"></div>
                    <div class="icon__pause" v-if="CONTROL_PLAYING"></div>
                  </div>
                </a>
              </li>
              <li>
                <a
                  class="item--control"
                  alt="跳下一章節"
                  @click="playlistNext()"
                >
                  <div class="icon">
                    <div class="icon__next"></div>
                  </div>
                </a>
              </li>
              <li class="hidden md:block">
                <a
                  class="item--control"
                  alt="跳下10秒"
                  @click="playlistNextTenSec()"
                >
                  <div class="icon">
                    <div class="icon__next__10sec"></div>
                  </div>
                </a>
              </li>
            </ul>
          </div>
          <div class="player--screen">
            <div class="title" v-if="CONTROL_EPISODE">
              <h3
                class="line-clamp-1 w-full px-2 text-xs font-extrabold text-white"
              >
                {{ CONTROL_EPISODE.title }}
              </h3>
            </div>
            <div class="process--slider" v-if="CONTROL_SEEK">
              <div class="label">{{ STATUS_SEEK }}</div>
              <vue-slider
                ref="processbar"
                @drag-start="processSliderDragStart"
                @dragging="processSliderDragging"
                @drag-end="processSliderDragEnd"
                @click="processSliderClick"
                v-model="CONTROL_SEEK"
                :height="8"
                :dotSize="32"
                :duration="CONTROL_USER_DURATION"
                :dragOnClick="true"
                :tooltip="'none'"
              ></vue-slider>
              <div class="label">{{ STATUS_DURATION }}</div>
            </div>
            <div class="process--slider" v-if="!CONTROL_SEEK">
              <div class="label">00:00</div>
              <vue-slider
                :height="8"
                :dotSize="32"
                :tooltip="'none'"
              ></vue-slider>
              <div class="label">00:00</div>
            </div>
          </div>
          <div class="player--controller">
            <ul>
              <li v-if="isTablet || isDesktop">
                <div
                  class="item--control"
                  alt="音量調整"
                  @mouseup="changeVolume()"
                  ref="buttonVolume"
                >
                  <div class="icon">
                    <div class="icon__volume">
                      <span :class="{'is-active': CONTROL_VOLUME > .1}"></span>
                      <span :class="{'is-active': CONTROL_VOLUME > .3}"></span>
                      <span :class="{'is-active': CONTROL_VOLUME > .5}"></span>
                      <span :class="{'is-active': CONTROL_VOLUME > .75}"></span>
                    </div>
                  </div>
                </div>
              </li>
              <li>
                <a
                  class="item--control"
                  ref="buttonSpeed"
                  alt="播放速度調整"
                  @click="(CONTROL_SPEED_OPEN)?CONTROL_SPEED_OPEN=false:CONTROL_SPEED_OPEN=true"
                >
                  <div class="icon">
                    <div class="icon__more"></div>
                  </div>
                </a>
                <div class="player--speed" v-if="CONTROL_SPEED_OPEN">
                  <ul>
                    <li :class="{'is-active': CONTROL_SPEED==.5}">
                      <a @click="(CONTROL_SPEED = .5)">0.5x</a>
                    </li>
                    <li :class="{'is-active': CONTROL_SPEED==1}">
                      <a @click="(CONTROL_SPEED = 1)">1x</a>
                    </li>
                    <li :class="{'is-active': CONTROL_SPEED==1.25}">
                      <a @click="(CONTROL_SPEED = 1.25)">1.25x</a>
                    </li>
                    <li :class="{'is-active': CONTROL_SPEED==1.5}">
                      <a @click="(CONTROL_SPEED = 1.5)">1.5x</a>
                    </li>
                    <li :class="{'is-active': CONTROL_SPEED==2}">
                      <a @click="(CONTROL_SPEED = 2)">2x</a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="flex flex-col">
                <div
                  :class="['absolute rounded-t-lg bottom-[53px] -end-[16px] md:end-0 backdrop-blur-sm bg-black/80 shadow-xl w-screen md:max-w-[400px] h-[40svh] lg:h-[300px] transform duration-100 overflow-hidden',  AUDIO_LIST ?  'translate-y-0 opacity-100' : 'translate-y-[10%] opacity-0 hidden' ]"
                >
                  <div
                    class="relative flex items-center justify-between border-b border-[#535353] px-5 py-3 text-white"
                  >
                    <span class="font-semibold">播放清單</span>
                    <div class="cursor-pointer" @click="AUDIO_LIST=!AUDIO_LIST">
                      <svg
                        width="15"
                        height="15"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 14 14"
                      >
                        <path
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                        ></path>
                      </svg>
                    </div>
                  </div>
                  <div class="h-[calc(100%-50px)] grow overflow-auto">
                    <div
                      class="bodrer-[#f2f2f2]-b flex cursor-pointer px-2 py-3 hover:shadow-md"
                      v-for="(chapter, index) in meta.data"
                      :key="chapter.id"
                    >
                      <div
                        class="flex w-full items-center gap-3 px-2"
                        @click="playAudio(chapter.id, chapter.chapterUrl)"
                      >
                        <div
                          class="bg-primary-400 h-5 w-2 shrink-0 rounded-full"
                        ></div>
                        <!-- 
                        {{ CONTROL_EPISODE }} {{ chapter }} -->
                        <span :class="`font-semibold line-clamp-2`">
                          {{ chapter.title }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="item--control cursor-pointer text-white/75 hover:scale-105"
                  @click="AUDIO_LIST=!AUDIO_LIST"
                >
                  <svg height="24" width="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M8 6L21 6.00078M8 12L21 12.0008M8 18L21 18.0007M3 6.5H4V5.5H3V6.5ZM3 12.5H4V11.5H3V12.5ZM3 18.5H4V17.5H3V18.5Z"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div
        data-twe-modal-init
        class="fixed left-0 top-0 z-[1055] hidden h-full w-full overflow-y-auto overflow-x-hidden outline-none"
        id="tweModal"
        tabindex="-1"
        aria-labelledby="tweModalLabel"
        aria-modal="true"
        role="dialog"
      >
        <div
          data-twe-modal-dialog-ref
          class="pointer-events-none relative flex min-h-[calc(100%-1rem)] w-auto translate-y-[-50px] items-center opacity-0 transition-all duration-300 ease-in-out min-[576px]:mx-auto min-[576px]:mt-7 min-[576px]:min-h-[calc(100%-3.5rem)] min-[576px]:max-w-[500px]"
        >
          <div
            class="relative m-5 flex w-full flex-col rounded-md border-none bg-white bg-clip-padding text-current outline-none"
          >
            <div
              class="flex flex-shrink-0 items-center justify-between rounded-t-md border-b-2 border-neutral-100 p-4"
            >
              <div class="flex items-center gap-2">
                <div
                  class="bg-primary-300 flex h-[40px] w-[40px] items-center justify-center rounded-full text-2xl font-bold leading-normal text-white shadow-md"
                  id="tweModalLabel"
                >
                  {{ COUNTDOWN }}
                </div>
                倒數完成後將為您播放下一篇章
              </div>
              <button
                type="button"
                class="box-content rounded-none border-none text-neutral-500 hover:text-neutral-800 hover:no-underline focus:text-neutral-800 focus:opacity-100 focus:shadow-none focus:outline-none"
                data-twe-modal-dismiss
                aria-label="Close"
              >
                <span class="[&>svg]:h-6 [&>svg]:w-6">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </span>
              </button>
            </div>

            <div class="relative p-4">
              <p>想繼續閱讀雜誌嗎?</p>
            </div>

            <div
              class="flex flex-shrink-0 flex-wrap items-center justify-stretch gap-3 rounded-b-md border-t-2 border-neutral-100 p-4"
            >
              <button
                type="button"
                class="bg-primary-500 hover:bg-primary-600 focus:bg-primary-600 active:bg-primary-700 inline-block grow rounded px-6 pb-2 pt-2.5 font-medium leading-normal text-white transition duration-150 ease-in-out focus:outline-none focus:ring-0"
                data-twe-modal-dismiss
                data-twe-ripple-init
                data-twe-ripple-color="light"
                @click="playlistNext()"
              >
                繼續播放
              </button>
              <button
                type="button"
                class="hover:bg-gary-600 focus:bg-primary-600 active:bg-primary-800 inline-block grow rounded bg-gray-400 px-6 pb-2 pt-2.5 font-medium leading-normal text-white transition duration-150 ease-in-out focus:outline-none focus:ring-0"
                data-twe-modal-dismiss
                data-twe-ripple-init
                data-twe-ripple-color="light"
                @click="() => pauseAudio()"
              >
                停在本頁
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../assets/js/tw-elements.umd.min.js"></script>
    <script type="module" crossorigin src="../assets/js/player.js"></script>
    <script src="../assets/js/main.js"></script>
  </body>
</html>
