<!doctype html>
<html lang="zh-Hant">
  <head>
    <!-- HTML meta 設定（必填） -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <!-- <meta name="google-site-verification" content="ePsrsO4QifMuCpIoyJpdPpAimc7Jf6aAbxtOVrbDrJc" /> -->
    <meta
      name="description"
      content="天下文化官方網站，以「傳播進步觀念，豐富閱讀世界」為願景，致力成為在台灣及華文世界中最具影響力的文化事業群。創立以來出版超過兩千種書，涵括財經企管、心理勵志、社會人文、科學、文學、健康親子、大樹文化等領域。加入天下文化書坊，即刻累積你的閱讀競爭力！"
    />
    <meta name="author" content="遠見‧天下文化事業群" />
    <meta name="copyright" content="遠見‧天下文化事業群" />
    <meta
      name="keywords"
      content="遠見‧天下文化事業群,天下文化,天下,bookzone,網路書店,購書,書店,書籍,暢銷書,買書,新書,出版社,暢銷排行榜,暢銷榜,讀書會,財經,管理,大師,科學文化,健康生活,親子,學生,觀念系列,大學,教科書,文學人生,簡報檔,PDF檔下載,專家導讀,讀者,書評,演講,活動,論壇"
    />
    <meta name="URL" content="https://member.cwgv.com.tw/" />

    <meta property="og:type" content="book" />

    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <!-- 網站標題 & Favicon &  -->
    <title>遠見‧天下文化事業群會員中心</title>
    <link
      rel="shortcut icon"
      href="https://member.cwgv.com.tw/public/images/cwgv-favi.png"
    />

    <!-- jQuery -->
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/jquery/jquery-1.9.0.min.js"
    ></script>

    <!-- jQuery UI -->
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/jquery-ui/js/jquery-ui-1.10.0.custom.min.js"
    ></script>

    <!-- Bootstrap -->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://member.cwgv.com.tw/public/library/bootstrap/css/bootstrap.min.css"
    />
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/bootstrap/js/bootstrap.min.js"
    ></script>
    <link
      type="text/css"
      rel="stylesheet"
      href="https://member.cwgv.com.tw/public/library/datepicker/css/datepicker.css"
    />

    <!-- Validate -->
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/jquery.validate.js"
    ></script>
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/birthdaypicker/bday-picker.js"
    ></script>
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/twzipcode/jquery.twzipcode-1.7.8.js"
    ></script>

    <!-- Font Awsome -->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://member.cwgv.com.tw/public/library/font-awesome/css/font-awesome.css"
    />

    <!-- colorbox -->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://member.cwgv.com.tw/public/library/colorbox/example2/colorbox.css"
    />
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/library/colorbox/jquery.colorbox-min.js"
    ></script>

    <!-- My Style -->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://member.cwgv.com.tw/public/css/style.css"
    />

    <link rel="stylesheet" href="./assets_member/css/memberPage.css" />

    <script>
      fromModal = "";
    </script>
    <script>
      emailAuth = "";
    </script>
    <script>
      base_url = "https://member.cwgv.com.tw/";
    </script>

    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/js/common.js?2019090212"
    ></script>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-KHC4T6H");
    </script>
    <!-- End Google Tag Manager -->

    <script>
      /* Provisory for dev environment: */
      $(function () {
        //localStorage.clear();
      });
    </script>
  </head>

  <body rel="register">
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-KHC4T6H"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/js/yahoo-dom-event.js"
    ></script>
    <script
      type="text/javascript"
      src="https://member.cwgv.com.tw/public/js/popupmanager.js"
    ></script>

    <section class="memberHeader">
      <div class="logo">
        <a href="https://futureparenting.cwgv.com.tw/" alt="回首頁">
          <img
            src="https://futureparenting.cwgv.com.tw/public/assets_member/img/logo-s.png"
          />
        </a>
      </div>
    </section>

    <div class="main-content">
      <div class="center-content login-content-wrapper">
        <h3 class="f-left login-title">註冊成為 未來親子 會員</h3>
        <div class="clear-both"></div>
        <div id="register-step-wrapper">
          <div class="step">1. 資料填寫</div>
          <div class="step active">2. 步驟完成</div>
          <div class="step">3. 驗證完成</div>
        </div>
        <div class="confirm-again-data-wrapper paintbg-container">
          <div class="inner-margin">
            <br /><br />
            <h3 class="Dorange">
              非常感謝您的加入，請至註冊信箱點選認證連結，完成加入會員流程。
            </h3>
            <br />
            <p>
              若尚有其他疑問，請來函
              <a href="mailto:service@cwgv.com.tw">service@cwgv.com.tw</a>
              或來電客服中心 (02) 2662-0012
              時間：週一至週五9:00～12:30；13:30～17:00。
            </p>
            <p>
              尚未收到驗證信，
              <a
                href="https://member.cwgv.com.tw/login?emailAuth=1"
                class="orange resend-mail-btn"
              >
                重新寄送驗證信</a
              >
            </p>
            <br /><br /><br /><br />
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="footerDownBox memberFooter">
        <div class="container">
          <h5>
            Copyright © 1999~2025 遠見天下文化出版股份有限公司統一編號20905449.
            All rights resercved.
          </h5>
          <ul class="footerDown">
            <span>未來親子學習平台：</span>
            <li>
              <a
                href="https://futureparenting.cwgv.com.tw/kids"
                title=""
                target="_blank"
                >小天下</a
              >
            </li>
            <li>
              <a
                href="https://futureparenting.cwgv.com.tw/kids"
                title=""
                target="_blank"
                >未來出版
              </a>
            </li>
            <li>
              <a
                href="https://futureparenting.cwgv.com.tw/junior"
                title=""
                target="_blank"
                >未來兒童</a
              >
            </li>
            <li>
              <a
                href="https://futureparenting.cwgv.com.tw/youth"
                title=""
                target="_blank"
                >未來少年</a
              >
            </li>
            <li>
              <a
                href="https://futureparenting.cwgv.com.tw/family"
                title=""
                target="_blank"
                >未來Family</a
              >
            </li>
          </ul>
          <h5>
            服務專線：(02)2662-0012 服務時間：週一 ~ 週五：09：00~12：30
            、13：30~17：00
          </h5>
        </div>
      </div>
    </footer>

    <script>
      page = $("body").attr("rel");

      $(".agreepaper").colorbox({
        iframe: true,
        width: "80%",
        height: "90%",
        maxWidth: "1000px",
      });

      $("#register-form").validate({
        submitHandler: function (form) {
          var subform = form;
          $.ajax({
            url: base_url + "common/checkup",
            type: "GET",
            cache: false,
            dataType: "json",
            data: {
              type: "email",
              email: $('input[name="member_account"]').val(),
              password: $('input[name="member_pwd"]').val(),
            },
            success: function (data) {
              if (data.status) {
                fullLoading("註冊中");
                subform.submit();
              } else {
                if (data.errcode == "35") {
                  alert("這個email已經被註冊過了，是否更換一個呢？");
                } else {
                  alert("登入失敗，請檢查您的帳號密碼");
                }
              }
            },
          });
        },
        errorPlacement: function (error, element) {
          if (element.attr("type") == "checkbox") {
            element.closest(".controls").append(error);
          } else {
            element.after(error);
          }
        },
        messages: {
          member_account: "email格式是否有誤，或可能已經被註冊過了喔",
        },
        rules: {
          member_pwd_again: {
            equalTo: "#inputPassword",
          },
          member_pwd: {
            checkpwdhard: true,
          },
          member_account: {
            required: true,
            email: true,
            remote: base_url + "common/chkemail",
          },
        },
      });

      //FB
      function loginFB() {
        FB.login(
          function (response) {
            if (response.status === "connected") {
              getFBdata();
            } else if (response.status === "not_authorized") {
            } else {
            }
          },
          { scope: "public_profile,email,user_birthday" },
        );
      }

      window.fbAsyncInit = function () {
        FB.init({
          appId: "827432718910059",
          cookie: true, // enable cookies to allow the server to access
          // the session
          channelUrl: "//member.cwgv.com.tw/index.html",
          status: true,
          xfbml: true, // parse social plugins on this page
          version: "v2.2", // use version 2.1
        });
      };
      // Load the SDK asynchronously
      (function (d, s, id) {
        var js,
          fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/zh_TW/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
      })(document, "script", "facebook-jssdk");

      $(".facebook-register-btn").on("click", function () {
        loginFB();
      });

      function getFBdata() {
        FB.api("/me", function (response) {
          console.log(JSON.stringify(response));
          if (response != null) {
            $.ajax({
              url: base_url + "common/checkup",
              type: "GET",
              cache: false,
              dataType: "json",
              data: {
                type: "facebook",
                fb_id: response.id,
                fbname: response.name,
                fbemail: response.email,
                sexual: response.gender,
                fbbirthday: response.birthday,
              },
              success: function (data) {
                if (data.status) {
                  //TODO submit to confirm_profile
                  var $nIpt = $('<input type="text">');
                  $nIpt.attr("name", "facebook_id").attr("value", response.id);

                  $("#register-form-social")
                    .append($nIpt)
                    .find('[name="member_account"]')
                    .attr("value", response.email)
                    .end()
                    .find('[name="member_name"]')
                    .attr("value", response.name)
                    .end()
                    .find('[name="member_sexual"]')
                    .attr("value", response.gender)
                    .end()
                    .find('[name="member_birthday"]')
                    .attr("value", response.birthday);
                  $("#register-form-social").submit();
                } else {
                  alert("這個FB帳號已經註冊過了喔，將自動為您登入！");

                  $.ajax({
                    url: base_url + "login/signup",
                    type: "POST",
                    cache: false,
                    data: {
                      type: "facebook",
                      fb_id: response.id,
                      fbname: response.name,
                      fbemail: response.email,
                      sexual: response.gender,
                      fbbirthday: response.birthday,
                      club_cardno: $('input[name="club_cardno"]').val(),
                      club_passwd: $('input[name="club_passwd"]').val(),
                    },
                    success: function (data) {
                      data = JSON.parse(data);
                      if (data.status) {
                        if (page == "register") {
                          location.href = "index";
                        } else if (page == "login") {
                          if (fromModal) {
                            parentReload(data.si);
                          } else {
                            parentRedirect(data.si);
                          }
                        }
                      }
                    },
                  });
                }
              },
            });
          }
        });
      }

      //google
      var gImmediate = true; // 因為G+會自動trigger登入, 所以設定一個點擊狀態

      (function () {
        // 停止google登入
        var po = document.createElement("script");
        po.type = "text/javascript";
        po.async = true;
        po.src =
          "https://apis.google.com/js/client:plusone.js?onload=renderGoogleLogin";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(po, s);
      })();
    </script>
    <script
      src="https://apis.google.com/js/api:client.js?onload=onLoadCallback"
      async
      defer
    ></script>
    <script>
      var auth2;
      var googleUser = {};
      var auth3;

      window.onLoadCallback = function () {
        gapi.load("auth2", function () {
          auth2 = gapi.auth2.init({
            client_id:
              "194325807151-rr2bpov2rb6hn054h1f0a2a9dmdko2dv.apps.googleusercontent.com",
            cookiepolicy: "member.cwgv.com.tw",
            // Request scopes in addition to 'profile' and 'email'
            scope: "profile email",
          });

          auth3 = true;
          startApp();
        });
      };

      var startApp = function () {
        element = document.getElementById("google-login-btn");
        auth2.attachClickHandler(
          element,
          {},
          function (googleUser) {
            $.ajax({
              url: base_url + "login/signup",
              type: "POST",
              cache: false,
              dataType: "json",
              data: {
                type: "google+",
                google_id: googleUser.getBasicProfile().getId(),
                gname: googleUser.getBasicProfile().getName(),
                gemail: googleUser.getBasicProfile().getEmail(),
                club_cardno: $('input[name="club_cardno"]').val(),
                club_passwd: $('input[name="club_passwd"]').val(),
              },
              success: function (data_a) {
                console.log(data_a);
                if (data_a.status) {
                  if (fromModal) {
                    parentReload(data_a.si);
                  } else {
                    parentRedirect(data_a.si);
                  }
                } else {
                  if (data_a.errcode == "91") {
                    alert(data_a.errmsg);
                  } else {
                    //	errAlert(data.errcode);
                    //alert("這個google帳號尚未註冊，請先前往註冊，謝謝！");
                    alert("這個google帳號尚未註冊，請先完成註冊步驟，謝謝！");
                    if (fromModal) {
                      var vfromModal = "Y";
                    } else {
                      var vfromModal = "N";
                    }
                    var $nForm = $(
                      '<form class="hide" method="post" action="https://member.cwgv.com.tw/register/confirm_profile">',
                    );
                    var $nIpt = $('<input type="text">');
                    $nIpt
                      .clone()
                      .attr("name", "google_id")
                      .attr("value", googleUser.getBasicProfile().getId())
                      .appendTo($nForm);
                    $nIpt
                      .clone()
                      .attr("name", "member_account")
                      .attr("value", googleUser.getBasicProfile().getEmail())
                      .appendTo($nForm);
                    $nIpt
                      .clone()
                      .attr("name", "fromModal")
                      .attr("value", vfromModal)
                      .appendTo($nForm);
                    $nIpt
                      .clone()
                      .attr("name", "member_name")
                      .attr("value", googleUser.getBasicProfile().getName())
                      .appendTo($nForm);
                    $nForm.appendTo("body").submit();
                  }
                }
              },
            });
          },
          function (error) {
            // console.log("5");
            // alert(JSON.stringify(error, undefined, 2));
          },
        );
      };

      if (auth3) startApp();

      $(document).ready(function () {
        //重整驗證碼
        $(document).on("click", ".getsecurimage", function () {
          //alert('test')
          loc =
            "https://member.cwgv.com.tw/login/securimage_jpg?" +
            new Date().getTime();
          $("#siimage").attr("src", loc);
          return false;
        });
        $.ajax({
          url: base_url + "login/ini_se",
          type: "GET",
          datatype: "text",
          success: function (data) {
            $(".getsecurimage").click();
          },
        });
      });
    </script>
  </body>
</html>
<script></script>
<!--964f9b65a560-->
